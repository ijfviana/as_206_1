## Introducción

* [Configurar la compilación](#/5/1)
* [Compilando el código fuente](#/5/4)

note:
* Once you’ve extracted the source code, read its documentation, and installed any additional tools you need to compile the software, you can begin configuring and compiling the software.
* Problems can occur at either of these steps, although most programs compile and install cleanly, provided you’ve satisfied all the prerequisites.



## Configurando la compilación (I)

<a class="fancybox" href="img/configure_ways.png" data-fancybox-group="gallery" title="source issues">
<img height="550px" src="img/configure_ways.redimensionado640x480.png" alt="source issues">
</a>

note:
* Simple programs require little or nothing in the way of configuration.
* More complex programs ship with a tool that scans your system for available tools and libraries and adjusts the compilation process for your particular computer.
* Methods to configure the compilation:
 * Used by the Linux kernel
 * Edit a file called Makefile to customize the program manually
 * A script called `configure`



## Configurando la compilación (II)
### Utilidad Configure
<a class="fancybox" href="img/configure.png" data-fancybox-group="gallery" title="Utilidad Configure">
<img height="550px" src="img/configure.redimensionado640x480.png" alt="Utilidad Configure">
</a>



## Configurando la compilación (III)
### Utilidad Configure

``` bash
ijfviana@linda:/tmp/as/tar-1.27$ ls
ABOUT-NLS     build-aux    configure     gnu      Makefile.am  po       src
acinclude.m4  ChangeLog    configure.ac  INSTALL  Makefile.in  README   tests
aclocal.m4    ChangeLog.1  COPYING       lib      Make.rules   rmt      THANKS
AUTHORS       config.h.in  doc           m4       NEWS         scripts  TODO
ijfviana@linda:/tmp/as/tar-1.27$ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking how to create a ustar tar archive... gnutar
checking whether make supports nested variables... (cached) yes
checking for gcc... gcc
checking whether the C compiler works... yes
...

ijfviana@linda:/tmp/as/tar-1.27$ vi config.log
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by GNU tar configure 1.27, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  $ ./configure

## --------- ##
## Platform. ##
## --------- ##

```

note:
* It is located in the source code’s main directory.
* It will scan your system and adjust a file called Makefile, which controls the compilation process, to work optimally on your system.
* These lines often begin with the word checking, and they report the status of a check.
* If the script discovers that you’re missing some critical header files or software component, it will terminate and display an error message
* For more details about this problem, look at the end of config.log.
* Such a message tells you what you’re missing that the program requires
* In many cases, you can resolve the problem by loading a high-level package management tool and searching for a development package vnamed after the missing tool.



## Configurando la compilación  (III)

Opciones genéricas de la utilidad `configure`

<div class="table-responsive">
<table class="table table-bordered table-condensed table-hover">
<thead style="background-color:#a8003b; color:white">
<tr>
<th width="430em">Parámetro</th>
<th>Efecto</th>
</tr>
</thead>
<tbody style="background-color:white">
<tr>
<td>`--help`</td>
<td>Muestras todas las opciones.</td>
</tr>
<tr>
<td>`--quiet`</td>
<td>Ejecuta el scripts en modo silencioso.</td>
</tr>
<tr>
<td>`--prefix=directory`</td>
<td>Directorio instalación independiente de la arquitectura (/usr/local).</td>
</tr>
<tr>
<td>`--eprefix=directory`</td>
<td>Directorio instalación dependiente de la arquitectura (/usr/local).</td>
</tr>
<tr>
<td>`--enable-FEATURE`</td>
<td>Activa una característica</td>
</tr>
</tbody>
</table>
</div>

note:
* The configure script often accepts parameters that enable you to set compile-time options for the software.

| Parameter | Effect |
| ----------|--------|
| --help    | Displays a summary of options.
| --quiet   | Displays fewer messages as the script does its work.
| --prefix=directory | Sets the installation directory for architecture-independent files to directory. The default value is usually /usr/local.
| --eprefix=directory | Sets the installation directory for architecture-dependent files to directory. The default value is usually /usr/local.
| --enable-FEATURE    | Enables a named FEATURE, which is program-specific.
| --disable-FEATURE   | Disables a named FEATURE, which is program-specific.
| --enable-debug=ARG  | Sets debugging symbols. ARG is yes, no, or full, with a default of no.
| --disable-debug     |Disables debugging output.
| --with-PACKAGE[=ARG] | Enables support for a particular library or external tool, PACKAGE. By default, ARG is yes.
| --without-PACKAGE      | Disables support for a particular library or external tool, PACKAGE; equivalent to --with-PACKAGE=no.

* These vary from one package to another
* When you run the configure script, it displays a series of lines that summarize what it’s doing.



## Configurando la compilación  (IV)

Opciones genéricas de la utilidad `configure`

<div class="table-responsive">
<table class="table table-bordered table-condensed table-hover">
<thead style="background-color:#a8003b; color:white">
<tr>
<th width="440em">Parámetro</th>
<th>Efecto</th>
</tr>
</thead>
<tbody style="background-color:white">
<tr>
<td>`--disable-FEATURE`</td>
<td>Desactiva una característica</td>
</tr>
<tr>
<td>`--enable-debug=ARG`</td>
<td>Crea símbolos de depuración</td>
</tr>
<tr>
<td>`--disable-debug`</td>
<td>Muestra las salidas de depuración</td>
</tr>
<tr>
<td>`--with-PACKAGE[=ARG]`</td>
<td>Activa soporte utilidad externa</td>
</tr>
<tr>
<td>`--without-PACKAGE`</td>
<td>Desactiva soporte utilidad externa.</td>
</tr>
</tbody>
</table>
</div>

note:
* The configure script often accepts parameters that enable you to set compile-time options for the software.

| Parameter | Effect |
| ----------|--------|
| --help    | Displays a summary of options.
| --quiet   | Displays fewer messages as the script does its work.
| --prefix=directory | Sets the installation directory for architecture-independent files to directory. The default value is usually /usr/local.
| --eprefix=directory | Sets the installation directory for architecture-dependent files to directory. The default value is usually /usr/local.
| --enable-FEATURE    | Enables a named FEATURE, which is program-specific.
| --disable-FEATURE   | Disables a named FEATURE, which is program-specific.
| --enable-debug=ARG  | Sets debugging symbols. ARG is yes, no, or full, with a default of no.
| --disable-debug     |Disables debugging output.
| --with-PACKAGE[=ARG] | Enables support for a particular library or external tool, PACKAGE. By default, ARG is yes.
| --without-PACKAGE      | Disables support for a particular library or external tool, PACKAGE; equivalent to --with-PACKAGE=no.

* These vary from one package to another
* When you run the configure script, it displays a series of lines that summarize what it’s doing.



## Compilando el código fuente
* Ejecutamos comando `make`
```bash
ijfviana@linda:/tmp/as/tar-1.27$ make
make  all-recursive
make[1]: se ingresa al directorio «/tmp/as/tar-1.27»
Making all in doc
make[2]: se ingresa al directorio «/tmp/as/tar-1.27/doc»
make[2]: No se hace nada para «all».
make[2]: se sale del directorio «/tmp/as/tar-1.27/doc»
Making all in gnu
make[2]: se ingresa al directorio «/tmp/as/tar-1.27/gnu»
  GEN      alloca.h
  GEN      configmake.h
  GEN      c++defs.h
  GEN      arg-nonnull.h
  GEN      warn-on-use.h
  GEN      dirent.h
  GEN      fcntl.h
  GEN      getopt.h
  GEN      inttypes.h
  GEN      langinfo.h
  GEN      locale.h
  GEN      unused-parameter.h
```
* Invoca a compiladores, enlazadores, etc
* Podemos invocar a `make clean` para borrar todo lo creado

note:
* you can type make to compile the software.
* Software that doesn’t use configure is also usually compiled in the same way, although you should double-check the documentation to be sure.
* The compilation process can take anywhere from a few seconds to several hours
* Depending on the package, these lines may be the individual compilation commands and their output or summaries.
* If you notice lines that contain the string warning along with scary-sounding messages about problems, don’t be concerned;
* If the output created by make includes the word error, though, and terminates soon thereafter, this indicates a much more serious problem. An error prevents GCC from compiling the software, so there’s no point in proceeding with installation until you’ve found the source of the problem.
* If you know enough about programming, you can tackle such problems yourself. If not, you’ll have to contact the program’s author or enlist the help of somebody with programming experience to solve the problem.
